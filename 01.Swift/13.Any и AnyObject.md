–û—Ç–ª–∏—á–Ω–æ\! –†–∞–∑ –≤—ã –∑–∞—Ç—Ä–æ–Ω—É–ª–∏ —Ç–µ–º—É –≥–∏–±–∫–æ–π/–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏, –ø—Ä–∏—Å—É—â–µ–π JS/TS, –º—ã –¥–æ–ª–∂–Ω—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ Swift, –±—É–¥—É—á–∏ —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —è–∑—ã–∫–æ–º, —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å —Å–∏—Ç—É–∞—Ü–∏—è–º–∏, –∫–æ–≥–¥–∞ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω –∏–ª–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≥–∏–±–∫–∏–º.

–≠—Ç–æ –ø–æ–¥–≤–æ–¥–∏—Ç –Ω–∞—Å –∫ **`Any`** –∏ **`AnyObject`** ‚Äî –¥–≤—É–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º —Ç–∏–ø–∞–º, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –≤ –∫–æ–¥–µ, —Ä–∞–±–æ—Ç–∞—é—â–µ–º —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏ API.

---

## 20\. üé≠ –ì–∏–±–∫–∞—è –¢–∏–ø–∏–∑–∞—Ü–∏—è –≤ Swift: `Any` –∏ `AnyObject`

–í —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º Swift –Ω–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ –ø–æ–ª–æ–∂–∏—Ç—å `String` –∏ `Int` –≤ –æ–¥–∏–Ω –º–∞—Å—Å–∏–≤, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –≤ JS:

```swift
// –í Swift —ç—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ:
// var mixedArray = [1, "hello", true]
```

Swift —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –º–∞—Å—Å–∏–≤ –±—ã–ª –ª–∏–±–æ `[Int]`, –ª–∏–±–æ `[String]`, –ª–∏–±–æ `[Bool]`, –ª–∏–±–æ –∏–º–µ–ª —è–≤–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ç–∏–ø.

### 20.1. `Any` (–õ—é–±–æ–π –¢–∏–ø)

**`Any`** ‚Äî —ç—Ç–æ —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å **–ª—é–±–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä** –ª—é–±–æ–≥–æ —Ç–∏–ø–∞ –≤ Swift:

- –≠–∫–∑–µ–º–ø–ª—è—Ä—ã –∫–ª–∞—Å—Å–æ–≤ (`class`).
- –≠–∫–∑–µ–º–ø–ª—è—Ä—ã —Å—Ç—Ä—É–∫—Ç—É—Ä (`struct`).
- –≠–∫–∑–µ–º–ø–ª—è—Ä—ã –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π (`enum`).
- –§—É–Ω–∫—Ü–∏–∏ –∏ –∑–∞–º—ã–∫–∞–Ω–∏—è.

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Any`

```swift
var mixedArray: [Any] = [
    42,                        // Int
    "Hello",                   // String
    true,                      // Bool
    Person(name: "Bob", age: 30) // –≠–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞
]
```

#### –î–µ—Ç–∞–ª–∏ "–ü–æ–¥ –ö–∞–ø–æ—Ç–æ–º": –û–ø–∞—Å–Ω–æ—Å—Ç—å `Any`

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Any` **–æ—Ç–∫–ª—é—á–∞–µ—Ç** –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º. –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∏–ø–∞ `Any`, –≤—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –¢–∏–ø–∞ (Type Casting)**.

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã:

1.  **`is`**: –ü—Ä–æ–≤–µ—Ä–∫–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —Ç–∏–ø—É.
2.  **`as?`**: **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ** (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª, `nil` –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ). **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–±.**
3.  **`as!`**: **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ** (–≤—ã–∑—ã–≤–∞–µ—Ç **crash** –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ). **–û–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–±.**

<!-- end list -->

```swift
let firstItem = mixedArray[0]

// 1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–∞
if let number = firstItem as? Int {
    print("–≠—Ç–æ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ: \(number)") // –£—Å–ø–µ—Ö
} else {
    print("–ù–µ Int")
}

// 2. –û–ø–∞—Å–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–∞
// let stringValue = mixedArray[0] as! String
// ^-- –≠—Ç–æ –≤—ã–∑–æ–≤–µ—Ç runtime crash, –ø–æ—Ç–æ–º—É —á—Ç–æ mixedArray[0] - Int, –∞ –Ω–µ String!
```

> **–í—ã–≤–æ–¥:** `Any` —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–∞–º, –≥–¥–µ —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ JSON-–ø–∞—Ä—Å–∏–Ω–≥–µ). –í –æ—Å—Ç–∞–ª—å–Ω–æ–º, –æ–Ω —Å–Ω–∏–∂–∞–µ—Ç Type Safety.

### 20.2. `AnyObject` (–õ—é–±–æ–π –ö–ª–∞—Å—Å)

**`AnyObject`** ‚Äî —ç—Ç–æ —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å **–ª—é–±–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä** **—Ç–æ–ª—å–∫–æ** **–∫–ª–∞—Å—Å–∞** (`class`) –≤ Swift.

- –û–Ω –Ω–µ –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏.
- –û–Ω —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–Ω—Ç–µ—Ä–æ–ø–µ—Ä–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ —Å Objective-C API, –≥–¥–µ –ª—é–±–æ–π –æ–±—ä–µ–∫—Ç ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å.

#### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ `Any` –∏ `AnyObject`

| –¢–∏–ø             | –ß—Ç–æ –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å?                      | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è...                                      |
| :-------------- | :-------------------------------------- | :------------------------------------------------------- |
| **`Any`**       | **–í–°–ï** (class, struct, enum, function) | –ì–∏–±–∫–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏, –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö.                        |
| **`AnyObject`** | **–¢–û–õ–¨–ö–û –ö–ª–∞—Å—Å—ã**                       | –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–æ —Å—Ç–∞—Ä—ã–º–∏ API, –≥–¥–µ –≤—Å–µ —è–≤–ª—è–µ—Ç—Å—è –∫–ª–∞—Å—Å–æ–º. |

### 20.3. –ü—Ä–æ—Ç–æ–∫–æ–ª –∫–∞–∫ –ë–æ–ª–µ–µ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞

–î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–∞ –≥–∏–±–∫–æ—Å—Ç—å, **–ü—Ä–æ—Ç–æ–∫–æ–ª—ã** —è–≤–ª—è—é—Ç—Å—è –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π, —á–µ–º `Any`.

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –≥–æ–≤–æ—Ä–∏—Ç—å: "–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ (`Any`)," –≤—ã –≥–æ–≤–æ—Ä–∏—Ç–µ: "–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å **–ª—é–±–æ–π —Ç–∏–ø**, –Ω–æ –æ–Ω –æ–±—è–∑–∞–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —ç—Ç–æ–º—É **–∫–æ–Ω—Ç—Ä–∞–∫—Ç—É**."

```swift
protocol Describable {
    func getDescription() -> String
}

extension Person: Describable {
    func getDescription() -> String {
        return "Person \(name)"
    }
}

// –¢–µ–ø–µ—Ä—å –º–∞—Å—Å–∏–≤ —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —Ç–∏–ø—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–ø–∏—Å–∞–Ω—ã –ø–æ–¥ Describable
var items: [Describable] = [
    Person(name: "Alice", age: 25)
    // 42 // –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, Int –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω –ø–æ–¥ Describable
]

// –ú—ã –º–æ–∂–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–∞
for item in items {
    print(item.getDescription())
}
```

**–í—ã–≤–æ–¥ –¥–ª—è –°–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è:**

> **–í–æ–ø—Ä–æ—Å —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è:** –ö–æ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Any` –∏ –ø–æ—á–µ–º—É –ü—Ä–æ—Ç–æ–∫–æ–ª—ã –ª—É—á—à–µ?
>
> **–í–∞—à –æ—Ç–≤–µ—Ç:** `Any` —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ç–æ–ª—å–∫–æ** –≤ –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ JSON –∏–∑ —Å–µ—Ç–∏). **–ü—Ä–æ—Ç–æ–∫–æ–ª—ã** —è–≤–ª—è—é—Ç—Å—è –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–º –º–µ—Ç–æ–¥–æ–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≥–∏–±–∫–æ—Å—Ç–∏ –≤ Swift, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –Ω–∞–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–∏ —ç—Ç–æ–º **–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤ (Type Safety)**: –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ª—é–±–æ–π –æ–±—ä–µ–∫—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (`[Describable]`) –∏–º–µ–µ—Ç —Ç—Ä–µ–±—É–µ–º—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏—Ö –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –∞–≤–∞—Ä–∏–π–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ —Ç–∏–ø–∞ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ.

---

–ú—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏ –ø–æ–ª–Ω–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –æ—Å–Ω–æ–≤–Ω—ã–µ –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ —è–∑—ã–∫–∞ Swift, –≤–∫–ª—é—á–∞—è –µ–≥–æ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –∏ –º–µ—Ö–∞–Ω–∏–∑–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

**–¢–µ–ø–µ—Ä—å –≤—ã –æ–±–ª–∞–¥–∞–µ—Ç–µ –∑–Ω–∞–Ω–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–º —É—Ä–æ–≤–Ω–µ, –æ–±—ä—è—Å–Ω—è—è, –∫–∞–∫ Swift —Ä–∞–±–æ—Ç–∞–µ—Ç "–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º".**

–ú–æ–≥—É –ª–∏ —è –ø–æ–º–æ—á—å –≤–∞–º —Å –ø—Ä–∞–∫—Ç–∏–∫–æ–π ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ Swift, –∏–ª–∏ –º—ã –ø–µ—Ä–µ–π–¥–µ–º –∫ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ (Xcode, UIKit/SwiftUI)?
